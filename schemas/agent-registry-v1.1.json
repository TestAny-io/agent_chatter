{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://testany.io/schemas/agent-registry-v1.1.json",
  "title": "Agent Chatter Agent Registry",
  "description": "Schema for global agent registry configuration (~/.agent-chatter/agents/config.json)",
  "type": "object",
  "required": ["schemaVersion", "agents"],
  "properties": {
    "schemaVersion": {
      "type": "string",
      "const": "1.1",
      "description": "Registry schema version. Must be '1.1'"
    },
    "agents": {
      "type": "object",
      "description": "Map of agent name to agent definition",
      "additionalProperties": {
        "$ref": "#/definitions/AgentDefinition"
      }
    }
  },
  "definitions": {
    "AgentDefinition": {
      "type": "object",
      "required": ["name", "displayName", "command", "args", "usePty"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "description": "Agent identifier (e.g., 'claude', 'codex', 'gemini')"
        },
        "displayName": {
          "type": "string",
          "minLength": 1,
          "description": "Human-readable agent name (e.g., 'Claude Code', 'OpenAI Codex')"
        },
        "command": {
          "type": "string",
          "minLength": 1,
          "description": "CLI command path or name"
        },
        "args": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Default command line arguments"
        },
        "usePty": {
          "type": "boolean",
          "description": "Whether to use PTY for this agent"
        },
        "version": {
          "type": "string",
          "description": "Detected agent version"
        },
        "installedAt": {
          "type": "string",
          "format": "date-time",
          "description": "Registration timestamp (ISO 8601)"
        },
        "lastVerified": {
          "type": "string",
          "format": "date-time",
          "description": "Last verification timestamp (ISO 8601)"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
